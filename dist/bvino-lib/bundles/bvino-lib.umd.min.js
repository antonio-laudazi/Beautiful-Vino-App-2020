!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("amazon-cognito-identity-js"),require("rxjs"),require("@angular/platform-browser/animations"),require("ngx-toastr"),require("@angular/router"),require("@angular/common/http"),require("@angular/core")):"function"==typeof define&&define.amd?define("bvino-lib",["exports","amazon-cognito-identity-js","rxjs","@angular/platform-browser/animations","ngx-toastr","@angular/router","@angular/common/http","@angular/core"],e):e(t["bvino-lib"]={},t.amazonCognitoIdentityJs,t.rxjs,t.ng.platformBrowser.animations,t.ngxToastr,t.ng.router,t.ng.common.http,t.ng.core)}(this,function(t,p,f,e,n,o,i,r){"use strict";var a=(c.prototype.set=function(t,e){this.sessionMap.set(t,e)},c.prototype.get=function(t){return this.sessionMap.get(t)},c.prototype.clearSession=function(){this.sessionMap.clear()},c.prototype.deleteKey=function(t){this.sessionMap["delete"](t)},c.decorators=[{type:r.Injectable}],c.ctorParameters=function(){return[]},c);function c(){this.sessionMap=new Map}var v=new p.CognitoUserPool({UserPoolId:"eu-central-1_KzlMv3BwL",ClientId:"25i6sfibl4qqqk2g8vgsmtsth7"}),u=(s.prototype.ngOnInit=function(){throw new Error("Method not implemented.")},s.prototype.signup=function(t,e,n){var o=[],i={Name:"email",Value:t},r={Name:"name",Value:n},a={Name:"nickname",Value:n},c=new p.CognitoUserAttribute(i),u=new p.CognitoUserAttribute(r),s=new p.CognitoUserAttribute(a);return o.push(c),o.push(u),o.push(s),f.Observable.create(function(n){return v.signUp(t,e,o,null,function(t,e){t?(n.error(t),console.log(t)):(n.next(e),n.complete())})})},s.prototype.signin=function(t,e){var n={Username:t,Password:e},o=new p.AuthenticationDetails(n),i={Username:t,Pool:v},r=new p.CognitoUser(i);return f.Observable.create(function(e){r.authenticateUser(o,{onSuccess:function(t){e.next(t),e.complete()},onFailure:function(t){console.log(t),e.error(t)}})})},s.prototype.forgotPassword=function(t){var e={Username:t,Pool:v},n=new p.CognitoUser(e);return f.Observable.create(function(e){n.forgotPassword({onSuccess:function(t){e.next(t),e.complete()},onFailure:function(t){console.log(t),e.error(t)}})})},s.prototype.isLoggedIn=function(){return null!==v.getCurrentUser()},s.prototype.getAuthenticatedUser=function(){return v.getCurrentUser()},s.decorators=[{type:r.Injectable}],s.ctorParameters=function(){return[{type:a}]},s);function s(t){}function h(e,a,c,u){return new(c=c||Promise)(function(t,n){function o(t){try{r(u.next(t))}catch(e){n(e)}}function i(t){try{r(u["throw"](t))}catch(e){n(e)}}function r(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(o,i)}r((u=u.apply(e,a||[])).next())})}function d(o,i){var r,a,c,t,u={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return t={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function n(t){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,a&&(c=2&t[0]?a["return"]:t[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,t[1])).done)return c;switch(a=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(c=0<(c=u.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){u.label=t[1];break}if(6===t[0]&&u.label<c[1]){u.label=c[1],c=t;break}if(c&&u.label<c[2]){u.label=c[2],u.ops.push(t);break}c[2]&&u.ops.pop(),u.trys.pop();continue}t=i.call(o,u)}catch(e){t=[6,e],a=0}finally{r=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([e,t])}}}var l=(m.prototype.presentAlert=function(e){return h(this,void 0,void 0,function(){return d(this,function(t){return this.toastrService.success(e),[2]})})},m.prototype.presentErrorAlert=function(e){return h(this,void 0,void 0,function(){return d(this,function(t){return this.toastrService.error(e),[2]})})},m.decorators=[{type:r.Injectable}],m.ctorParameters=function(){return[{type:o.Router},{type:n.ToastrService}]},m);function m(t,e){this.router=t,this.toastrService=e}var g=(y.prototype.post=function(t,e){return this.http.post(this.env.baseAppUrlGet+this.env.pathSeparator+t,e)},y.prototype.postPut=function(t,e){return this.http.post(this.env.baseAppUrlPut+this.env.pathSeparator+t,e)},y.prototype.postNotifica=function(t,e){return this.http.post(this.env.baseAppUrlNotifica+this.env.pathSeparator+t,e)},y.prototype.postConnect=function(t,e){return this.http.post(this.env.baseAppUrlConnect+this.env.pathSeparator+t,e)},y.decorators=[{type:r.Injectable}],y.ctorParameters=function(){return[{type:i.HttpClient},{type:i.HttpBackend},{type:undefined,decorators:[{type:r.Inject,args:["env"]}]}]},y);function y(t,e,n){this.http=t,this.backEnd=e,this.env=n}var N=function vt(){},w=function ht(){},A=function dt(){},E=function lt(){},U=(P.prototype.getRichiestaGetUtenti=function(){var t=new N;return t.functionName=this.env.getUtentiFunctionName,t},P.prototype.getRichiestaGetUtentiAzienda=function(t){var e=new N;return e.functionName=this.env.getUtentiAziendaFunctionName,e.idAzienda=t,e},P.prototype.getRichiestaGetUtente=function(t){var e=new N;return e.functionName=this.env.getUtenteFunctionName,e.idUtente=t,e},P.prototype.getRichiestaGetAziende=function(){var t=new N;return t.functionName=this.env.getAziendeFunctionName,t},P.prototype.getRichiestaGetAzienda=function(t){var e=new N;return e.functionName=this.env.getAziendaFunctionName,e.idAzienda=t,e},P.prototype.getRichiestaGetBadges=function(){var t=new N;return t.functionName=this.env.getBadgesFunctionName,t},P.prototype.getRichiestaGetEventi=function(){var t=new N;return t.functionName=this.env.getEventiFunctionName,t.idUtente="",t.elencoCompleto="S",t},P.prototype.getRichiestaGetEventiAzienda=function(t){var e=new N;return e.functionName=this.env.getEventiAziendaFunctionName,e.idAzienda=t,e.idUtente="",e.elencoCompleto="S",e},P.prototype.getRichiestaGetEventoUtente=function(t,e,n){var o=new N;return o.functionName=this.env.getEventoFunctionName,o.idEvento=t,o.idUtente=n,o.dataEvento=e,o},P.prototype.getRichiestaGetEvento=function(t){var e=new N;return e.functionName=this.env.getEventoFunctionName,e.idEvento=t,e},P.prototype.getRichiestaGetProvincie=function(){var t=new N;return t.functionName=this.env.getProvincieFunctionName,t},P.prototype.getRichiestaGetFeed=function(){var t=new N;return t.functionName=this.env.getFeedFunctionName,t},P.prototype.getRichiestaGetFeedAzienda=function(t){var e=new N;return e.functionName=this.env.getFeedAziendaFunctionName,e.idAzienda=t,e},P.prototype.getRichiestaGetVini=function(){var t=new N;return t.functionName=this.env.getViniFunctionName,t},P.prototype.getRichiestaGetVino=function(t){var e=new N;return e.functionName=this.env.getVinoFunctionName,e.idVino=t,e},P.prototype.getRichiestaGetViniAzienda=function(t){var e=new N;return e.idAzienda=t,e.functionName=this.env.getViniAziendaFunctionName,e},P.prototype.getRichiestaGetProfiloAzienda=function(t){var e=new N;return e.idProfiloAzienda=t,e.functionName=this.env.getProfiloAziendaFunctionName,e},P.prototype.getRichiestaPutImmagine=function(t,e,n){var o=new w;return o.base64Image=t,o.filename=e,o.tipoEntita=n,o.functionName=this.env.putImmaginiFunctionName,o},P.prototype.getRichiestaPutProvincia=function(t){var e=new w;return e.functionName=this.env.putProvinciaFunctionName,e.provincia=t,e},P.prototype.getRichiestaPutUtente=function(t){var e=new w;return e.functionName=this.env.putUtenteFunctionName,e.utente=t,e},P.prototype.getRichiestaPutEvento=function(t){var e=new w;return e.functionName=this.env.putEventoFunctionName,e.evento=t,e},P.prototype.getRichiestaPutFeed=function(t){var e=new w;return e.functionName=this.env.putFeedFunctionName,e.feed=t,e},P.prototype.getRichiestaPutVino=function(t){var e=new w;return e.functionName=this.env.putVinoFunctionName,e.vino=t,e},P.prototype.getRichiestaPutuserProfileWithImage=function(t){var e=new w;return e.functionName=this.env.putUserProfileImageWithUserFunctionName,e.utente=t,e},P.prototype.getRichiestaNotifica=function(t){var e=new A;return e.messaggio=t,e},P.prototype.getRichiestaAggiungiEventoAPreferiti=function(t,e,n,o,i){var r=new E;return r.idUtente=t,r.idEvento=e,r.dataEvento=n,r.statoEvento="P",r.statoPreferitoEvento=o,r.statoAcquistatoEvento=i,r.functionName=this.env.connectEventoAUtenteFunctionName,r},P.prototype.getRichiestaAcquistaEvento=function(t,e,n,o,i,r){var a=new E;return a.idUtente=t,a.idEvento=e,a.dataEvento=n,a.dataPrenotazioneEvento=o,a.statoEvento="A",a.statoPreferitoEvento=i,a.statoAcquistatoEvento=r,a.functionName=this.env.connectEventoAUtenteFunctionName,a},P.prototype.getRichiestaRimuoviEventoDaPreferiti=function(t,e,n,o,i){var r=new E;return r.idUtente=t,r.idEvento=e,r.dataEvento=n,r.statoEvento="D",r.statoPreferitoEvento=o,r.statoAcquistatoEvento=i,r.functionName=this.env.connectEventoAUtenteFunctionName,r},P.decorators=[{type:r.Injectable}],P.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:["env"]}]}]},P);function P(t){this.env=t}var b=(R.forRoot=function(t){return{ngModule:R,providers:[{provide:"env",useValue:t}]}},R.decorators=[{type:r.NgModule,args:[{declarations:[],imports:[i.HttpClientModule,e.BrowserAnimationsModule,n.ToastrModule.forRoot()],providers:[u,a,l,g,U],exports:[]}]}],R);function R(){}var F=(z.prototype.putNotifica=function(t){return this.httpService.postNotifica(this.env.notificationServiceName,t)},z.prototype.put=function(t){return this.httpService.postPut(this.env.putServiceName,t)},z.prototype.get=function(t){return this.httpService.post(this.env.getServiceName,t)},z.prototype.connect=function(t){return this.httpService.postConnect(this.env.connectServiceName,t)},z.decorators=[{type:r.Injectable}],z.ctorParameters=function(){return[{type:g},{type:undefined,decorators:[{type:r.Inject,args:["env"]}]}]},z);function z(t,e){this.httpService=t,this.env=e}var S=function mt(){},G=function gt(){},V=function yt(){},I=function Nt(){},C=function wt(){},x=function At(){},j=function Et(){},M=function Ut(){},k=function Pt(){},q=function bt(){},B=function Rt(){},T=function Ft(){},O=function zt(){},H=function St(){},D=function Gt(){},L=function Vt(){},_=function It(){},K=function Ct(){},W=function xt(){},J=function jt(){},Q=function Mt(){},X=function kt(){},Y=function qt(){},Z=function Bt(){},$=function Tt(){},tt=function Ot(){},et=function Ht(){},nt=function Dt(){},ot=function Lt(){},it=function _t(){},rt=function Kt(){},at=function Wt(){},ct=function Jt(){},ut=function Qt(){},st=function Xt(){},pt=function Yt(){},ft=function Zt(){};t.BvinoLibModule=b,t.BVAuthorizationService=u,t.SessionService=a,t.BVHttpService=g,t.RichiesteService=U,t.AlertService=l,t.BVCommonService=F,t.AccessToken=S,t.AccessTokenPayload=G,t.AwsToken=V,t.IdToken=I,t.IdTokenPayload=C,t.RefreshToken=x,t.AziendaUtente=j,t.BadgeUtente=M,t.EventoUtente=k,t.Utente=q,t.UtenteUtente=B,t.VinoUtente=T,t.Azienda=O,t.EventoAzienda=H,t.VinoAzienda=D,t.AziendaVino=L,t.EventoVino=_,t.UtenteVino=K,t.Vino=W,t.AziendaEvento=J,t.BadgeEvento=Q,t.Evento=X,t.ProvinciaEvento=Y,t.UtenteEvento=Z,t.VinoEvento=$,t.AziendaFeed=tt,t.AziendaVinoFeed=et,t.EventoFeed=nt,t.Feed=ot,t.VinoFeed=it,t.Badge=rt,t.RichiestaGetGenerica=N,t.RispostaGetGenerica=at,t.RichiestaPutGenerica=w,t.RispostaPutGenerica=ct,t.RichiestaNotificaGenerica=A,t.RispostaNotificaGenerica=ut,t.RichiestaConnectGenerica=E,t.RispostaConnectGenerica=st,t.Provincia=pt,t.ProfiloAzienda=ft,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=bvino-lib.umd.min.js.map